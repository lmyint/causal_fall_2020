[
["index.html", "STAT 451: Causal Inference Welcome!", " STAT 451: Causal Inference Welcome! Image source: IMDB. (Know how this relates to class? Tell the instructor!) This is the course website for STAT 451: Causal Inference at Macalester College for the Fall 2020 semester (Module 1). The content here was made by Leslie Myint and draws upon several resources, all of which are listed on the References page. This work is licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License. "],
["references.html", "References References for review Required references Further exploration", " References References for review STAT 155 Notes: An online set of notes for STAT 155 written by the Macalester statistics faculty. Probability Essentials: A YouTube video outlining some key ideas from probability that we will use in this course. Required references Causal Inference in Statistics: A Primer, by Judea Pearl, Madelyn Glymour, and Nicholas P. Jewell. PDF freely available online. (Referred to as &quot;PRIMER&quot;.) Causal Inference: What If, by Miguel A. Hern√°n and James M. Robins. PDF freely available online. (Referred to as &quot;WHATIF&quot;.) Further exploration The Book of Why: The New Science of Cause and Effect, by Judea Pearl and Dana Mackenzie (Amazon) Causality: Models, Reasoning, and Inference, by Judea Pearl (available as an eBook through Macalester's library) edX course: Causal Diagrams: Draw Your Assumptions Before Your Conclusions Udemy course: Causal Data Science with Directed Acyclic Graphs "],
["schedule.html", "Schedule", " Schedule The schedule below is a tentative outline of our plans for the module. If we need more time for digestion, there is flexibility in our plans to allow for that. Before each class period, please watch the indicated videos, complete required readings, and complete the associated Moodle checkpoint. Checkpoints are due at 2pm CST on the indicated day. For the most part, readings listed here are suggestions. They refer to sections in the PRIMER and WHATIF books (see References) and may be useful for alternate presentations of the concepts. When a reading is required, it will marked as (REQD). Week 1: Foundational Ideas (9/2 - 9/4) Day(s) Topic Videos/Readings Slides Checkpoint 9/2 Motivation and Review 9/3 Exchangeability Defining Causal Effects Exchangeability WHATIF: 2.1, 2.2, 3.1, 3.2 PDF PDF link 9/4 Study Designs Study Designs in Causal Inference WHATIF: 2.1, 2.2, 3.1, 3.2 PDF link Homework 1 due Sunday, 9/6 at midnight CST "],
["review-and-motivation.html", "Topic 1 Review and Motivation Learning Goals Exercises", " Topic 1 Review and Motivation Learning Goals Identify when linear regression and when logistic regression would be appropriate Interpret coefficients from linear and logistic regression models with and without interaction Describe the 2 conditions/characteristics of a confounder Use a causal diagram (a graph) to depict the structure of relationships underlying confounding Explain how regression models provide a way to &quot;adjust for&quot; confounders Using the 2 characteristics of a confounder, explain how an &quot;unadjusted&quot; relationship is misleading Exercises You can download a template RMarkdown file to start from here. We will look at (simulated) data from a study that looked at the effectiveness of chemotherapy for treating colon cancer. Chemotherapy is effectively a poison that kills cells in the body that are rapidly proliferating: these cells include the cancer cells (often in a mass called a tumor) but also cells in bone marrow involved in sustaining the immune system. In this study, researchers measured the following variables: pre_tumor_size: Tumor size at the start of the study (Small or Large). treated: ChemoYes if the patient received chemotherapy or ChemoNo if not. post_tumor_size: Tumor size 3 months after the start of the study (Small or Large). recovery: Yes if the patient fully recovered from their cancer after 1 year. No otherwise. You can read in the data as follows: chemo_study_data &lt;- readr::read_csv(&quot;https://www.dropbox.com/s/vl06j75a8afw8ct/chemo_study.csv?dl=1&quot;) Exercise 1: Plots and confounders The first step in any data analysis is to visualize your data. Let's refamiliarize ourselves with the ggplot2 package in R. It may be helpful to have this ggplot2 cheat sheet open. Make sure to load the ggplot2 package by including library(ggplot2) at the top of your RMarkdown document. Get a feel for the data by visualizing the distributions of all 4 variables individually (4 plots total). Your code should look something like below. ggplot(chemo_study_data, aes(x = pre_tumor_size)) + ??? Is pre-treatment tumor size predictive of whether or not a patient received chemotherapy? Make a plot to assess this, and briefly state what conclusions can be drawn from the plot. (Hint: it will be helpful to look at the second page of the cheat sheet in the section labeled &quot;Position Adjustments&quot;.) ggplot(chemo_study_data, aes(x = pre_tumor_size, fill = treated)) + ??? Is pre-treatment tumor size predictive of whether or not a patient recovered? Make a plot, and briefly state your conclusions. A variable is a confounder if it is a common cause of both the treatment and outcome. This is shown in the diagram below. Given your results from parts b and c, could pre-treatment tumor size be a confounder of the relationship between chemotherapy treatment and recovery? Could post-treatment tumor size be a confounder of the relationship between chemotherapy treatment and recovery? Support your answer with plots and an explanation. Note: the causal relationships of interest so far can be depicted in a causal diagram, shown below. An arrow between two variables indicates that one is a cause of the other (an arrow points from a cause to its effect). Exercise 2: Implications of confounding What is the relationship between confounders and the saying &quot;Correlation does not imply causation&quot;? Explain how regression models can be used to remove the influence of confounding variables. Suppose that chemotherapy generally works to promote recovery. Suppose also that sicker patients tend to receive chemotherapy, and healthier patients tend to not receive chemotherapy. What do you expect Exercise 3: Logistic regression models We can model recovery using a logistic regression model (used when the outcome variable is binary). In R, we can fit a logistic regression model using code like the following: # Fit the model and store it in the &quot;mod&quot; object mod &lt;- glm(outcome_variable ~ predictor_variable1+predictor_variable2, family = &quot;binomial&quot;, data = your_data) # Display model output summary(mod) # Obtain confidence intervals (CIs) for model coefficients # (95% CIs by default) confint(mod) Fit a logistic regression model with only treatment as a predictor. Interpret the treatment coefficient. Is the sign of the coefficient what you expected? Why is this model misleading? Fit a logistic regression model that adjusts for pre-treatment tumor size. Interpret the treatment coefficient. Is the sign of the coefficient what you expected? Also report the 95% confidence interval for the treatment coefficient and what information you learn from it. Fit a logistic regression model that adjusts for pre- and post-treatment tumor size. Interpret the treatment coefficient. Is the sign of the coefficient what you expected? (Side note: This article by Eleanor Murray has a great explanation of the most common misinterpretation of confidence intervals.) Exercise 4: Warming up to causal ideas Consider the statement: &quot;The causal effect of chemotherapy on recovery rates (as compared to no chemotherapy) is a change (difference) of 10%.&quot; What do you think &quot;causal effect&quot; means? What would you like it to mean? Which model do you think best estimates the causal effect of chemotherapy on recovery rates? Explain. "],
["exchangeability.html", "Topic 2 Exchangeability Pre-class work Learning Goals Exercises", " Topic 2 Exchangeability Pre-class work Videos/slides Defining Causal Effects: [video], [slides] Exchangeability: [video], [slides] Checkpoint questions: Link to Moodle checkpoint Which of the following is an example of an example of an average causal effect? Select all that apply. \\(E[Y^{a=1}]\\) \\(E[Y^{a=0}]\\) \\(E[Y^{a=1}]/E[Y^{a=0}]\\) \\(Y^{a=1}-Y^{a=0}\\) \\(E[Y^{a=1}-Y^{a=0}]\\) We want to estimate the causal effect of a new medication (treatment group) on cholesterol levels as compared to the medication that is currently the standard of care (control group). (The potential outcomes represent potential cholesterol levels.) Fatty food consumption is likely a factor that would lead to lack of exchangeability of the treated and untreated if doctors use fatty food consumption in their choice of medication to prescribe. Increased fatty food consumption generally leads to higher cholesterol levels. Suppose that the new medication truly does lead to lower cholesterol levels than the standard of care. Which of the following are correct? If those prescribed the new medication have HIGHER fatty food consumption than those prescribed the standard of care, then the beneficial impact of the new drug will be overestimated when directly comparing the treatment to the control group. If those prescribed the new medication have HIGHER fatty food consumption than those prescribed the standard of care, then the beneficial impact of the new drug will be underestimated when directly comparing the treatment to the control group. If those prescribed the new medication have LOWER fatty food consumption than those prescribed the standard of care, then the beneficial impact of the new drug will be overestimated when directly comparing the treatment to the control group. If those prescribed the new medication have LOWER fatty food consumption than those prescribed the standard of care, then the beneficial impact of the new drug will be underestimated when directly comparing the treatment to the control group. Continuing the medication-cholesterol example, what are two factors (other than fatty food consumption) that could contribute to a lack of exchangeability of the treatment groups? Explain your reasoning. Conditional exchangeability is marginal exchangeability within subsets of the data. TRUE FALSE Suppose that marginal exchangeability of the treated and untreated holds. Among the treated, we observe a mean outcome of 10. Among the untreated, we observe a mean outcome of 8. What can be said about \\(Y^{a=0}\\) among the treated and about \\(Y^{a=1}\\) among the untreated? We don't know anything about those quantities because they are unobserved. Among the treated, the mean \\(Y^{a=0}\\) is 10. Among the untreated, the mean \\(Y^{a=1}\\) is 8. Among the treated, the mean \\(Y^{a=0}\\) is 8. Among the untreated, the mean \\(Y^{a=1}\\) is 10. Learning Goals Define an average causal effect in terms of potential outcomes Apply the concepts of marginal and conditional exchangeability to answer questions about (hypothetical) data on potential outcomes. Give examples of when marginal and conditional exchangeability would and would not hold in various data contexts. Explain why a direct comparison of the outcomes in the treated and untreated is misleading as an estimate of a causal effect. Exercises Exercise 1 Suppose that we are trying to understand the causal effect of a personal finance course on the percent of earnings left in savings each month (abbreviated as &quot;percent savings&quot;). For the 500 people who took the course, we are able to collect data on percent savings and various other factors. We are also able to collect the same information from 500 people who did not take the course. Do you think that a comparison of percent savings in the course takers and non-takers would be a valid estimate of the average causal effect? Explain your viewpoint using the concepts of potential outcomes and exchangeability. One important factor to consider is the number of children that an individual has. Explain how this factor could contribute to a lack of exchangeability in the outcomes of the course takers and non-takers. As part of your explanation, complete the following figure showing the distributions of potential outcomes in different settings. State any assumptions that you make. Do you think conditional exchangeability holds conditional on number of children? If yes, why? If no, what other factors might be needed to achieve conditional exchangeability? What is your thought process in thinking about other factors? Exercise 2 We have the data below on number of children (\\(Z\\)), treatment (course takers: \\(A = 1\\). course non-takers: \\(A = 0\\)), and the percent savings outcome (\\(Y^a\\)) categorized as either high (H) or low (L). Assuming that the course takers and non-takers are exchangeable conditional on number of children, fill in data on the missing potential outcomes. \\(n\\) \\(Z\\) \\(A\\) \\(Y^{a=1}\\) \\(Y^{a=0}\\) 10 2 1 7 H, 3 L ? 30 2 0 ? 18 H, 12 L 10 1 1 6 H, 4 L ? 40 1 0 ? 20 H, 20 L 10 0 1 5 H, 5 L ? 50 0 0 ? 20 H, 30 L Exercise 3 While \\(Y^a\\) denotes the potential outcome under treatment \\(A = a\\), \\(Y\\) denotes the observed outcome. (For the treated, \\(Y = Y^{a=1}\\). For the untreated, \\(Y = Y^{a=0}\\).) Is it possible for marginal exchangeability to hold but for \\(Y\\) and \\(A\\) to be dependent? Explain using a numerical or graphical example. Exercise 4 Assuming that we have exchangeability of the course takers and non-takers conditional on number of children (\\(Z\\)) and use of public transportation (\\(W\\)), how might a regression model be used to estimate the average causal effect of the personal finance course? "],
["study-designs-overview.html", "Topic 3 Study Designs Overview Pre-class work Learning Goals Exercises", " Topic 3 Study Designs Overview Pre-class work Videos/slides Study Designs in Causal Inference: [video], [slides] Checkpoint questions: Link to Moodle checkpoint We are analyzing survey data collected by the Minnesota Department of Health to understand the effect of vaping during adolescence on adulthood respiratory problems. What study design best describes this? Randomized experiment Instrumental variables design Regression discontinuity Interrupted time series General observational study A state program only has the budget to fund a social services program in the 10 poorest counties in the state. We want to study the effect of this program on county-level social and economic indicators. What study design best describes this? Randomized experiment Instrumental variables design Regression discontinuity Interrupted time series General observational study A hospital randomly puts up flyers throughout public hallways reminding people to get their flu shot. We want to study the effect of actually taking this year's flu shot on risk of getting the flu. What study design best describes this? Randomized experiment Instrumental variables design Regression discontinuity Interrupted time series General observational study In at most two sentences, describe a general strategy that quasi-experimental studies use to try to achieve conditional exchangeability. Learning Goals Explain how randomized experiments relate to exchangeability. Explain how quasi-experimental and general observational studies relate to exchangeability. Compare the strengths and weaknesses of different study designs for answering a research question. Exercises Exercise 1 In a randomized experiment, participants are randomly assigned to receive either a new medication (\\(A = 1\\)) or the standard medication (\\(A = 0\\)) for cholesterol control. (Randomization is performed overall for all participants - not within subgroups.) The average cholesterol level in the new medication group is 130 mg/dL, and the average cholesterol level in the standard medication group is 140 mg/dL. What can be said about the potential outcome table below? What would be an estimate of the average causal effect \\(E[Y^{a=1}-Y^{a=0}]\\)? \\(n\\) \\(Z\\) \\(A\\) \\(Y^{a=1}\\) \\(Y^{a=0}\\) 10 1 1 40 1 0 10 0 1 50 0 0 Exercise 2 A common use of regression discontinuity designs in policy research occurs when funding for a program is limited, and areas are ranked by need to determine whether they will receive the benefits of the program. Only areas with the greatest need receive program benefits. Explain how this type of design is attempting to create exchangeability. Do you think that this design is effective in that goal? Explain. Exercise 3 Consider the use of an advertisement to promote a health product. The ultimate goal is to understand the causal effect of the product on an outcome. How might advertisements be released to capitalize on an instrumental variables design? Explain how this type of design is attempting to create exchangeability. Do you think that this design is effective in that goal? Explain. Exercise 4 Of the three quasi-experimental study designs we've discussed (regression discontinuity, instrumental variables, and interrupted time series), which do you think is most effective in reaching exchangeability? Which do you think is least effective? Explain your thoughts. "],
["homework-1.html", "Homework 1 Exercise 1 Exercise 2 Exercise 3 Exercise 4 Exercise 5", " Homework 1 Due Sunday, September 6 at midnight CST on Moodle Please turn in a single document containing your responses. Exercise 1 Consider the 4 scenarios below. For all scenarios, \\(A\\) represents a binary treatment, and \\(Y\\) represents the observed outcome (quantitative). Marginal exchangeability, independence of \\(Y\\) and \\(A\\) Marginal exchangeability, dependence of \\(Y\\) and \\(A\\) Lack of marginal exchangeability, independence of \\(Y\\) and \\(A\\) Lack of marginal exchangeability, dependence of \\(Y\\) and \\(A\\) Draw pictures that illustrate the following 4 scenarios. Annotate the pictures sufficiently enough to clearly show the properties indicated in the scenarios. Based on your illustrations, provide clarification to a colleague who asks you the following: &quot;If marginal exchangeability holds, then treatment and outcome are independent right? So doesn't that always mean that there will never be a causal effect? Because a causal effect means that outcome depends on treatment?&quot; Exercise 2 When, if ever, is a direct comparison of the observed outcomes in the treated and untreated a good estimate of an average causal effect? Fully explain your answer. Exercise 3 The table below shows data on a binary outcome \\(A\\), a binary covariate \\(Z\\), and a quantitative outcome \\(Y\\). \\(Z\\) \\(A\\) \\(Y\\) A 1 40 A 1 40 A 1 40 A 1 40 B 1 20 B 1 20 A 0 30 A 0 30 B 0 10 B 0 10 B 0 10 B 0 10 Assuming that the treatment groups are exchangeable conditional on \\(Z\\), estimate the average causal effect \\(E[Y^{a=1}-Y^{a=0}]\\). Suppose that the treatment groups are still exchangeable conditional on \\(Z\\). Are they marginally exchangeable? Show and explain your work. Exercise 4 To what extent do you agree with the following statement? &quot;Instrumental variables, regression discontinuity, and interrupted time series designs are essentially randomized experiments.&quot; To fully explain any points of agreement and/or disagreement, your response should discuss exchangeability and communicate how the mentioned designs work. Exercise 5 Suppose that you are designing a general observational study to study the effect of weekly practice of yoga on stress levels. What variables would you like to collect to achieve conditional exchangeability? Explain how these variables could contribute to a lack of exchangeability. Which quasi-experimental design (of the 3 that we've discussed) do you think would be most practical/feasible to use to study the effect of yoga practice on stress? Justify your answer. Which quasi-experimental design do you think is most ideal for this study in terms of achieving exchangeability? Justify your answer. "]
]
